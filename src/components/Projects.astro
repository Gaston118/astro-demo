---
import Section from "./Section.astro";

import { projects } from "../../cv.json"
---

<Section title="Projects">

    <ul>
        {
            projects.map(({name, startDate, endDate, description, url, technologies, active}) => {
                return (
                    <li>
                        <article>
                            <header>
                                {url ? (
                                <a href={url} target="_blank">
                                    <h3>{name}</h3>
                                </a>
                            ) : (
                                <h3>{name}</h3>
                            )}
                                <span>{startDate} - {endDate}</span>
                                {active && <em class="active-dot">&bull;</em>}
                                {!active && <em class="no-active-dot">&bull;</em>}
                                <p>{description}</p>
                            </header>
                            <footer>
                                <ul>
                                    {
                                        technologies.map((tech) => {
                                            return <li>{tech}</li>
                                        })
                                    }
                                </ul>
                            </footer>
                        </article>
                    </li>
                )
            })
        }

    </ul>
</Section>

<style>
    ul{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1rem;
        list-style: none;
    }

    article{
        border-radius: 8px;
        border: 1px solid #ebebeb;
        gap: 1rem;
        display: flex;
        flex-direction: column;
        padding: 16px;
        height: 100%;
    }

    article a{
        text-decoration: none;
        color: black;
        transition: all 0.3s ease;
    }

    article a:hover{
        text-decoration: underline;
    }

    footer li{
        border-radius: 6px;
        background: #e2e2e2;
        color: rgb(55, 55, 55);
        font-size: 0.75rem;
        font-weight: 500;
        padding: 0.2rem 0.5rem;
    }

    footer ul{
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    header span{
        border: solid 1px #979797;
        border-radius: 15px;
        color: rgb(0, 0, 0);
        font-size: 0.7rem;
        font-weight: 500;
        padding: 0.3rem 0.5rem 0.3rem 0.5rem;
    }

    header h3{
        margin-bottom: 10px;
        text-transform: uppercase;
        font-size: 1rem;
    }

    header p{
        margin-top: 10px;
        font-size: 0.8rem;
        color: #838383;
    }

    .active-dot{
        color: #00ff00;
        margin-left: -5px;
    }

    .no-active-dot{
        color: #ff0000;
        margin-left: -5px;
    }

</style>