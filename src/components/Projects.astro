---
import Section from "./Section.astro";

import { projects } from "../../cv.json"
---

<Section title="Projects">

    <ul>
        {
            projects.map(({name, startDate, endDate, description, url, technologies, active, site}) => {
                return (
                    <li>
                        <article>
                            <header>
                                {url ? (
                                <a href={url} target="_blank">
                                    <h3>{name}</h3>
                                </a>
                            ) : (
                                <h3>{name}</h3>
                            )}
                                <span>{startDate} / {endDate}</span>
                                {active && <em class="active-dot">&bull;</em>}
                                <p>{description}</p>
                            </header>
                            <footer>
                                <ul>
                                    {
                                        technologies.map((tech) => {
                                            return <li>{tech}</li>
                                        })
                                    }
                                </ul>
                                {site ? (
                                <a href={site} target="_blank">
                                    <p>View Site</p>
                                </a>
                            ) : (
                                ""
                            )}
                            </footer>
                        </article>
                    </li>
                )
            })
        }

    </ul>
</Section>

<style>
    p{
        margin-top:15px;
    }

    ul{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        list-style: none;
    }

    article{
        border-radius: 8px;
        border: 1px solid #d1d1d1;
        gap: 1rem;
        display: flex;
        flex-direction: column;
        padding: 16px;
        height: 100%;
    }

    article a{
        text-decoration: none;
        color: black;
        transition: all 0.3s ease;
    }

    article a:hover{
        color:#3d3d3d;
        text-decoration: underline;
    }

    footer li{
        border-radius: 6px;
        background: #e7e7e7;
        color: #3d3d3d;
        font-size: 0.75rem;
        font-weight: 500;
        padding: 0.2rem 0.5rem;
    }

    footer ul{
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    article header{
        flex: 1;
    }

    header span{
        border: solid 1px #d1d1d1;
        border-radius: 15px;
        color: #3d3d3d;
        font-size: 0.7rem;
        font-weight: 500;
        padding: 0.3rem 0.5rem 0.3rem 0.5rem;
    }

    header h3{
        margin-bottom: 10px;
        text-transform: uppercase;
        font-size: 1rem;
    }

    header p{
        margin-top: 10px;
        font-size: 0.8rem;
        color: #5d5d5d;
    }

    .active-dot{
        color: #00ff00;
    }

    :global(.dark) h3{
        color: #e7e7e7;
    }

    :global(.dark) h3:hover{
        color: #888888;
        text-decoration: underline;
    }

    :global(.dark) p{
        color: #e7e7e7;
    }

    :global(.dark) footer p:hover{
        color: #888888;
        text-decoration: underline;
    }

    :global(.dark) header span{
        color: #e7e7e7;
    }

    :global(.dark) header p{
        color: #e7e7e7;
    }

    :global(.dark) footer li{
        background-color: #09145c;
        color: #d1d1d1;
        border: 1px solid #09145c;
    }


</style>